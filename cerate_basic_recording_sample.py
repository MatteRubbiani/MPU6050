import json

from constants import QUATERNIONS, POSITIONS, CONSTANT_ACCELERATION, CONSTANT_TIMESTAMPS, QUATERNIONS_CONSTANTS, \
    CIRCULAR_ACCELERATION
from quat_acc_to_pos import integrate_acceleration

d = {
    "initial_quaternion_sensor_1": [0, 0, 0, 1],
    "initial_position_sensor_1": [0, 0, 0],
    "poses_sensor_1": []
}

T = (
 [[-39.47841760435743, 0.0, -0.0],
  [-39.160806345586344, 0.0, -4.997669747744704],
  [-38.21308305332084, 0.0, -9.914925118428453],
  [-36.65049695010264, 0.0, -14.672645632419387],
  [-34.49819063126857, 0.0, -19.194277785649867],
  [-31.79079551117959, 0.0, -23.407066824153823],
  [-28.5718745907999, 0.0, -27.243227395292983],
  [-24.89322151270414, 0.0, -30.64103423945548],
  [-20.814027181980038, 0.0, -33.5458153725891],
  [-16.399927362408047, 0.0, -35.91083177889059],
  [-11.721946572452179, 0.0, -37.698029459066106],
  [-6.855355274170725, 0.0, -38.878651733424846],
  [-1.8784587433050854, 0.0, -39.433701947620136],
  [3.1286628919196082, 0.0, -39.35424913592894],
  [8.085443170034624, 0.0, -38.64157172383364],
  [12.912125640851832, 0.0, -37.30713695767736],
  [17.531047176603167, 0.0, -35.37241639237773],
  [21.867887600738648, 0.0, -32.86854040607066],
  [25.852865527387966, 0.0, -29.83579730067279],
  [29.421861169981067, 0.0, -26.322985048022176],
  [32.517448052616466, 0.0, -22.386626112244524],
  [35.08981702355546, 0.0, -18.090057982146874],
  [37.09757770311918, 0.0, -13.502414047312923],
  [38.50842447039148, 0.0, -8.697511215985521],
  [39.2996562727528, 0.0, -3.7526621733804157],
  [39.45854189431473, 0.0, 1.2525686083600036],
  [38.982524805949296, 0.0, 6.237645092307354],
  [37.87926430079984, 0.0, 11.122355531729337],
  [36.166512253386934, 0.0, 15.82810310712093],
  [33.8718274853024, 0.0, 20.279170578451957],
  [31.03213233345331, 0.0, 24.40393860390328],
  [27.693118555839888, 0.0, 28.136038121886234],
  [23.908512134065052, 0.0, 31.415418254088276],
  [19.7392088021787, 0.0, 34.18931254658434],
  [15.252294211521264, 0.0, 36.41308800183299],
  [10.519964497480926, 0.0, 38.050963240314694],
  [5.6183646166493455, 0.0, 39.07658423632267],
  [0.626363145966167, 0.0, 39.47344836410184],
  [-4.375716742207356, 0.0, 39.235169931274726],
  [-9.307389709999951, 0.0, 38.36558292702232],
  [-14.08930329324519, 0.0, 36.878679331762804],
  [-18.64451471233469, 0.0, 34.79838398094908],
  [-22.89972891034474, 0.0, 32.158169605510196],
  [-26.786477897939292, 0.0, 29.000518243080563],
  [-30.242222428948466, 0.0, 25.37623768611189],
  [-33.21135828025039, 0.0, 21.34364396547325],
  [-35.64611094453606, 0.0, 16.96762302368439],
  [-37.50730434001569, 0.0, 12.318586675811428],
  [-38.7649911682398, 0.0, 7.471339657004586],
  [-39.3989347773418, 0.0, 2.5038759863070683],
  [-39.39893477734181, 0.0, -2.5038759863070834],
  [-38.764991168239796, 0.0, -7.4713396570046005],
  [-37.50730434001568, 0.0, -12.318586675811478],
  [-35.646110944536055, 0.0, -16.967623023684403],
  [-33.21135828025038, 0.0, -21.343643965473262],
  [-30.24222242894846, 0.0, -25.3762376861119],
  [-26.786477897939257, 0.0, -29.0005182430806],
  [-22.899728910344734, 0.0, -32.15816960551021],
  [-18.644514712334708, 0.0, -34.798383980949076],
  [-14.089303293245141, 0.0, -36.878679331762825],
  [-9.307389709999937, 0.0, -38.365582927022324],
  [-4.37571674220734, 0.0, -39.235169931274726],
  [0.6263631459661828, 0.0, -39.47344836410184],
  [5.618364616649396, 0.0, -39.07658423632266],
  [10.519964497480942, 0.0, -38.050963240314694],
  [15.252294211521278, 0.0, -36.41308800183298],
  [19.73920880217874, 0.0, -34.18931254658432],
  [23.908512134065063, 0.0, -31.41541825408827],
  [27.693118555839934, 0.0, -28.136038121886187],
  [31.03213233345329, 0.0, -24.4039386039033],
  [33.87182748530241, 0.0, -20.279170578451943],
  [36.166512253386955, 0.0, -15.8281031071209],
  [37.87926430079984, 0.0, -11.122355531729339],
  [38.98252480594931, 0.0, -6.237645092307303],
  [39.45854189431473, 0.0, -1.2525686083599707],
  [39.2996562727528, 0.0, 3.752662173380414],
  [38.50842447039148, 0.0, 8.69751121598552],
  [37.097577703119185, 0.0, 13.502414047312906],
  [35.08981702355545, 0.0, 18.090057982146888],
  [32.51744805261646, 0.0, 22.38662611224454],
  [29.421861169981035, 0.0, 26.322985048022215],
  [25.85286552738794, 0.0, 29.835797300672816],
  [21.867887600738623, 0.0, 32.86854040607068],
  [17.531047176603167, 0.0, 35.37241639237773],
  [12.91212564085185, 0.0, 37.30713695767735],
  [8.085443170034583, 0.0, 38.64157172383365],
  [3.1286628919195922, 0.0, 39.35424913592894],
  [-1.878458743305145, 0.0, 39.43370194762013],
  [-6.855355274170775, 0.0, 38.87865173342483],
  [-11.72194657245221, 0.0, 37.69802945906609],
  [-16.39992736240805, 0.0, 35.91083177889059],
  [-20.814027181980027, 0.0, 33.545815372589104],
  [-24.89322151270417, 0.0, 30.641034239455447],
  [-28.571874590799915, 0.0, 27.24322739529297],
  [-31.79079551117963, 0.0, 23.407066824153762],
  [-34.498190631268564, 0.0, 19.194277785649877],
  [-36.65049695010263, 0.0, 14.672645632419421],
  [-38.21308305332084, 0.0, 9.914925118428435],
  [-39.160806345586344, 0.0, 4.9976697477447045],
  [-39.47841760435743, 0.0, 1.9338847101831538e-14]],
 [[0.0, 0.0, 0.0, 1.0],
  [0.0, 0.0634239196565645, 0.0, 0.9979866764718843],
  [0.0, 0.12659245357374926, 0.0, 0.9919548128307951],
  [0.0, 0.18925124436041021, 0.0, 0.9819286972627068],
  [0.0, 0.2511479871810792, 0.0, 0.9679487013963565],
  [0.0, 0.3120334456984872, 0.0, 0.9500711177409453],
  [0.0, 0.3716624556603275, 0.0, 0.9283679330160726],
  [0.0, 0.4297949120891717, 0.0, 0.902926538286621],
  [0.0, 0.48619673610046865, 0.0, 0.8738493770697848],
  [0.0, 0.5406408174555974, 0.0, 0.8412535328311812],
  [0.0, 0.5929079290546404, 0.0, 0.8052702575310586],
  [0.0, 0.6427876096865394, 0.0, 0.7660444431189781],
  [0.0, 0.6900790114821119, 0.0, 0.7237340381050703],
  [0.0, 0.7345917086575334, 0.0, 0.6785094115571322],
  [0.0, 0.776146464291757, 0.0, 0.6305526670845224],
  [0.0, 0.8145759520503358, 0.0, 0.5800569095711982],
  [0.0, 0.8497254299495144, 0.0, 0.5272254676105024],
  [0.0, 0.8814533634475821, 0.0, 0.4722710747726825],
  [0.0, 0.9096319953545182, 0.0, 0.41541501300188644],
  [0.0, 0.9341478602651067, 0.0, 0.3568862215918719],
  [0.0, 0.9549022414440741, 0.0, 0.29692037532827475],
  [0.0, 0.9718115683235418, 0.0, 0.2357589355094273],
  [0.0, 0.9848077530122081, 0.0, 0.17364817766693022],
  [0.0, 0.993838464461254, 0.0, 0.11083819990101088],
  [0.0, 0.9988673391830082, 0.0, 0.0475819158237424],
  [0.0, 0.9998741276738752, 0.0, -0.01586596383480803],
  [0.0, 0.9968547759519423, 0.0, -0.07924995685678855],
  [0.0, 0.9898214418809326, 0.0, -0.14231483827328523],
  [0.0, 0.9788024462147787, 0.0, -0.204806668065191],
  [0.0, 0.9638421585599423, 0.0, -0.26647381369003487],
  [0.0, 0.9450008187146686, 0.0, -0.3270679633174217],
  [0.0, 0.9223542941045814, 0.0, -0.3863451256931287],
  [0.0, 0.8959937742913359, 0.0, -0.4440666126057741],
  [0.0, 0.8660254037844385, 0.0, -0.5000000000000001],
  [0.0, 0.8325698546347712, 0.0, -0.5539200638661105],
  [0.0, 0.7957618405308321, 0.0, -0.6056096871376667],
  [0.0, 0.7557495743542584, 0.0, -0.654860733945285],
  [0.0, 0.7126941713788628, 0.0, -0.7014748877063214],
  [0.0, 0.6667690005162916, 0.0, -0.7452644496757547],
  [0.0, 0.6181589862206051, 0.0, -0.7860530947427876],
  [0.0, 0.5670598638627704, 0.0, -0.823676581429833],
  [0.0, 0.5136773915734062, 0.0, -0.8579834132349771],
  [0.0, 0.45822652172741046, 0.0, -0.8888354486549234],
  [0.0, 0.4009305354066136, 0.0, -0.9161084574320695],
  [0.0, 0.3420201433256685, 0.0, -0.9396926207859084],
  [0.0, 0.28173255684142967, 0.0, -0.9594929736144976],
  [0.0, 0.2203105327865404, 0.0, -0.9754297868854073],
  [0.0, 0.15800139597334945, 0.0, -0.9874388886763944],
  [0.0, 0.09505604330418288, 0.0, -0.9954719225730845],
  [0.0, 0.031727933498067656, 0.0, -0.9994965423831853],
  [0.0, -0.03172793349806785, 0.0, -0.9994965423831853],
  [0.0, -0.09505604330418307, 0.0, -0.9954719225730844],
  [0.0, -0.1580013959733501, 0.0, -0.9874388886763942],
  [0.0, -0.2203105327865406, 0.0, -0.9754297868854072],
  [0.0, -0.2817325568414299, 0.0, -0.9594929736144975],
  [0.0, -0.3420201433256687, 0.0, -0.9396926207859084],
  [0.0, -0.4009305354066142, 0.0, -0.9161084574320693],
  [0.0, -0.4582265217274107, 0.0, -0.8888354486549233],
  [0.0, -0.513677391573406, 0.0, -0.8579834132349772],
  [0.0, -0.567059863862771, 0.0, -0.8236765814298327],
  [0.0, -0.6181589862206052, 0.0, -0.7860530947427876],
  [0.0, -0.6667690005162918, 0.0, -0.7452644496757547],
  [0.0, -0.7126941713788629, 0.0, -0.7014748877063213],
  [0.0, -0.7557495743542588, 0.0, -0.6548607339452845],
  [0.0, -0.7957618405308322, 0.0, -0.6056096871376666],
  [0.0, -0.8325698546347713, 0.0, -0.5539200638661104],
  [0.0, -0.8660254037844387, 0.0, -0.4999999999999996],
  [0.0, -0.8959937742913359, 0.0, -0.4440666126057739],
  [0.0, -0.9223542941045816, 0.0, -0.38634512569312784],
  [0.0, -0.9450008187146685, 0.0, -0.32706796331742194],
  [0.0, -0.9638421585599423, 0.0, -0.26647381369003464],
  [0.0, -0.9788024462147789, 0.0, -0.20480666806519057],
  [0.0, -0.9898214418809326, 0.0, -0.14231483827328525],
  [0.0, -0.9968547759519424, 0.0, -0.0792499568567879],
  [0.0, -0.9998741276738751, 0.0, -0.01586596383480761],
  [0.0, -0.9988673391830082, 0.0, 0.04758191582374238],
  [0.0, -0.993838464461254, 0.0, 0.11083819990101086],
  [0.0, -0.9848077530122081, 0.0, 0.17364817766692997],
  [0.0, -0.9718115683235418, 0.0, 0.2357589355094275],
  [0.0, -0.954902241444074, 0.0, 0.296920375328275],
  [0.0, -0.9341478602651064, 0.0, 0.35688622159187255],
  [0.0, -0.909631995354518, 0.0, 0.4154150130018869],
  [0.0, -0.8814533634475819, 0.0, 0.4722710747726829],
  [0.0, -0.8497254299495144, 0.0, 0.5272254676105023],
  [0.0, -0.814575952050336, 0.0, 0.5800569095711978],
  [0.0, -0.7761464642917567, 0.0, 0.6305526670845227],
  [0.0, -0.7345917086575332, 0.0, 0.6785094115571323],
  [0.0, -0.6900790114821114, 0.0, 0.7237340381050708],
  [0.0, -0.6427876096865388, 0.0, 0.7660444431189785],
  [0.0, -0.5929079290546401, 0.0, 0.8052702575310589],
  [0.0, -0.5406408174555974, 0.0, 0.8412535328311812],
  [0.0, -0.48619673610046876, 0.0, 0.8738493770697847],
  [0.0, -0.42979491208917114, 0.0, 0.9029265382866213],
  [0.0, -0.3716624556603273, 0.0, 0.9283679330160727],
  [0.0, -0.31203344569848623, 0.0, 0.9500711177409457],
  [0.0, -0.2511479871810794, 0.0, 0.9679487013963565],
  [0.0, -0.18925124436041066, 0.0, 0.9819286972627067],
  [0.0, -0.12659245357374907, 0.0, 0.9919548128307952],
  [0.0, -0.06342391965656452, 0.0, 0.9979866764718843],
  [0.0, -2.4492935982947064e-16, 0.0, 1.0]],
 [0.0,
  0.020202020202020204,
  0.04040404040404041,
  0.06060606060606061,
  0.08080808080808081,
  0.10101010101010102,
  0.12121212121212122,
  0.14141414141414144,
  0.16161616161616163,
  0.18181818181818182,
  0.20202020202020204,
  0.22222222222222224,
  0.24242424242424243,
  0.26262626262626265,
  0.2828282828282829,
  0.30303030303030304,
  0.32323232323232326,
  0.3434343434343435,
  0.36363636363636365,
  0.38383838383838387,
  0.4040404040404041,
  0.42424242424242425,
  0.4444444444444445,
  0.4646464646464647,
  0.48484848484848486,
  0.5050505050505051,
  0.5252525252525253,
  0.5454545454545455,
  0.5656565656565657,
  0.5858585858585859,
  0.6060606060606061,
  0.6262626262626263,
  0.6464646464646465,
  0.6666666666666667,
  0.686868686868687,
  0.7070707070707072,
  0.7272727272727273,
  0.7474747474747475,
  0.7676767676767677,
  0.787878787878788,
  0.8080808080808082,
  0.8282828282828284,
  0.8484848484848485,
  0.8686868686868687,
  0.888888888888889,
  0.9090909090909092,
  0.9292929292929294,
  0.9494949494949496,
  0.9696969696969697,
  0.98989898989899,
  1.0101010101010102,
  1.0303030303030305,
  1.0505050505050506,
  1.0707070707070707,
  1.090909090909091,
  1.1111111111111112,
  1.1313131313131315,
  1.1515151515151516,
  1.1717171717171717,
  1.191919191919192,
  1.2121212121212122,
  1.2323232323232325,
  1.2525252525252526,
  1.272727272727273,
  1.292929292929293,
  1.3131313131313131,
  1.3333333333333335,
  1.3535353535353536,
  1.373737373737374,
  1.393939393939394,
  1.4141414141414144,
  1.4343434343434345,
  1.4545454545454546,
  1.474747474747475,
  1.494949494949495,
  1.5151515151515154,
  1.5353535353535355,
  1.5555555555555556,
  1.575757575757576,
  1.595959595959596,
  1.6161616161616164,
  1.6363636363636365,
  1.6565656565656568,
  1.676767676767677,
  1.696969696969697,
  1.7171717171717173,
  1.7373737373737375,
  1.7575757575757578,
  1.777777777777778,
  1.7979797979797982,
  1.8181818181818183,
  1.8383838383838385,
  1.8585858585858588,
  1.878787878787879,
  1.8989898989898992,
  1.9191919191919193,
  1.9393939393939394,
  1.9595959595959598,
  1.97979797979798,
  2.0])

calculated_positions = integrate_acceleration(T[0], T[1], T[2])
print(calculated_positions)
for i in range(10000):
    tibia_quaternion = T[1][i % len(T[1])]
    # tibia_quaternion = [0, 0, 0, 1]
    rec = tibia_quaternion +  list(calculated_positions[i % len(calculated_positions)])
    d["poses_sensor_1"].append(rec)

with open("recordings/basics/basics_test_calc_2.json", "w") as file:
    json.dump(d, file, indent=4)  # indent=4 makes it human-readable

